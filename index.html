<!DOCTYPE html>

<html lang="ro">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>SpƒÉlƒÉtorie CƒÉmin</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link rel="stylesheet" href="style.css">

</head>

<body>

    <div id="appLoader" class="app-loader">
        <div class="spinner"></div>
        <p id="loaderText">Se conecteazƒÉ...</p>
        <button id="reloadBtn" class="btn-ghost" style="display:none; margin-top:15px;">Re√ÆncearcƒÉ</button>
    </div>



    <div id="maintenanceOverlay" class="maintenance-screen" style="display: none;">

        <div class="maintenance-content">

            <i class="fa-solid fa-screwdriver-wrench fa-4x fa-bounce"></i>

            <h1>Mentenan»õƒÉ √Æn Curs</h1>

            <p>Revenim imediat! Facem curƒÉ»õenie √Æn sistem. üßπ</p>

            <p class="maintenance-sub">Ne vedem √Æn c√¢teva minute.</p>

            <button id="maintenanceAdminBtn" class="btn-ghost">Sunt Administrator</button>

        </div>

    </div>



    <div class="app-container">

        <header class="main-header">

            <div class="header-content">

                <div class="logo-area">

                    <i class="fa-solid fa-soap fa-2x"></i>

                    <div>
                        <h1>SpƒÉlƒÉtorie CƒÉmin</h1>
                        <p>RezervƒÉri Online</p>
                        <small class="credit-tag">Made by Emi & Robert</small>
                    </div>

                </div>

                <div class="header-actions">
                    <span class="version-tag">Beta 5.0</span>
                    <button id="themeToggleBtn" class="btn-icon-only" title="SchimbƒÉ Tema" aria-label="SchimbƒÉ tema (√Æntunecat / deschis)">
                        <i class="fa-solid fa-moon" aria-hidden="true"></i>
                    </button>
                    <button id="adminToggleBtn" class="btn-icon-only" title="Admin Login" aria-label="Deschide panoul administrator">
                        <i class="fa-solid fa-lock" aria-hidden="true"></i>
                    </button>
                </div>

            </div>

        </header>



        <main class="main-layout">

            <aside class="sidebar">

                <section class="card booking-card">

                    <div class="card-header">

                        <h2><i class="fa-regular fa-calendar-plus"></i> Rezervare NouƒÉ</h2>

                    </div>

                    <form id="bookingForm">

                        <div class="form-group">

                            <label for="userName">Nume »ôi CamerƒÉ</label>

                            <div class="input-wrapper">

                                <i class="fa-solid fa-user"></i>

                                <input type="text" id="userName" required placeholder="Ex: Popescu (304)" autocomplete="off">

                            </div>

                        </div>

                        <div class="form-group">

                            <label for="userPin">PIN Secret (4 cifre)</label>

                            <div class="input-wrapper">

                                <i class="fa-solid fa-key"></i>

                                <input type="text" id="userPin" required placeholder="Ex: 1234" maxlength="4" pattern="\d{4}" title="Introdu exact 4 cifre" autocomplete="off">

                            </div>
                            <small style="font-size: 0.75rem; color: var(--text-muted); display: block; margin-top: 4px;">Vei folosi acest cod pentru a »ôterge rezervarea.</small>

                        </div>



                        <div class="form-group">

                            <label for="phoneNumber">Telefon</label>

                            <div class="input-wrapper">

                                <i class="fa-solid fa-phone"></i>

                                <input type="tel" id="phoneNumber" placeholder="07xx xxx xxx" maxlength="10" pattern="07[0-9]{8}" inputmode="numeric" title="10 cifre, √Æncep√¢nd cu 07" autocomplete="tel">

                            </div>

                            <div class="gdpr-consent-wrapper" style="margin-top: 8px; display: flex; align-items: start; gap: 8px;">
                                <input type="checkbox" id="skipPhone" style="width: 16px; height: 16px; margin-top: 3px;">
                                <label for="skipPhone" style="font-size: 0.9rem; line-height: 1.4; color: var(--text-muted); cursor: pointer;">
                                    Nu doresc sƒÉ introduc numƒÉrul de telefon.
                                </label>
                            </div>

                            <div class="privacy-note" style="background: rgba(var(--primary-rgb), 0.1); border-left: 3px solid var(--primary); padding: 10px; margin-top: 10px; border-radius: 4px; font-size: 0.85rem; color: var(--text-color);">
                                <p style="margin-bottom: 5px;"><strong>NotƒÉ Confiden»õialitate:</strong> Datele sunt folosite doar pentru organizarea programului »ôi pentru contact √Æn caz de probleme.</p>
                                <p>DacƒÉ nu dore»ôti sƒÉ introduci date personale, completeazƒÉ cel pu»õin un nume pentru rezervare »ôi folose»ôte varianta oficialƒÉ pentru restul (foaia de jos).</p>
                            </div>

                        </div>



                        <div class="form-group">
                            <label>Echipament</label>
                            <div class="visual-selector" id="visualSelector">
                                <div class="selector-card" data-value="masina1">
                                    <div class="icon">üß∫</div>
                                    <span>Ma»ôina 1</span>
                                    <div class="live-status" id="status-masina1">...</div>
                                </div>
                                <div class="selector-card" data-value="masina2">
                                    <div class="icon">üß∫</div>
                                    <span>Ma»ôina 2</span>
                                    <div class="live-status" id="status-masina2">...</div>
                                </div>
                                <div class="selector-card" data-value="uscator1">
                                    <div class="icon">üå¨Ô∏è</div>
                                    <span>UscƒÉtor 1</span>
                                    <div class="live-status" id="status-uscator1">...</div>
                                </div>
                                <div class="selector-card" data-value="uscator2">
                                    <div class="icon">üå¨Ô∏è</div>
                                    <span>UscƒÉtor 2</span>
                                    <div class="live-status" id="status-uscator2">...</div>
                                </div>
                            </div>
                            <!-- Hidden select for compatibility with existing logic -->
                            <select id="machineType" required style="display:none; opacity:0; height:1px;">
                                <option value="">Selectat</option>
                                <option value="masina1">Ma»ôinƒÉ 1</option>
                                <option value="masina2">Ma»ôinƒÉ 2</option>
                                <option value="uscator1">UscƒÉtor 1</option>
                                <option value="uscator2">UscƒÉtor 2</option>
                            </select>
                        </div>



                        <div class="form-row">

                            <div class="form-group">

                                <label for="bookingDate">Data</label>

                                <input type="date" id="bookingDate" required>

                            </div>

                            <div class="form-group">

                                <label for="duration">DuratƒÉ</label>

                                <select id="duration" required>
                                    
                                    <option value="30">30 min</option>

                                    <option value="60">60 min</option>

                                    <option value="90">90 min</option>

                                </select>

                            </div>

                        </div>



                        <div class="form-group">

                            <label for="startTime">Ora de √Ænceput</label>

                            <input type="time" id="startTime" required class="time-input">

                        </div>



                        <button type="submit" class="btn-primary">

                            <i class="fa-solid fa-check"></i> RezervƒÉ Acum

                        </button>

                    </form>

                </section>



                <section class="card">

                    <div class="card-header">

                        <h2><i class="fa-solid fa-list-check"></i> RezervƒÉrile Mele</h2>

                    </div>

                    <div id="myBookings" class="list-container"></div>

                </section>

                

                <section class="card">

                    <div class="card-header">

                        <h2><i class="fa-solid fa-calendar-week"></i> Zilele UrmƒÉtoare</h2>

                    </div>

                    <div id="upcomingBookings" class="list-container compact"></div>

                </section>

            </aside>



            <section class="card schedule-container">

                <div class="schedule-header">

                    <h2><i class="fa-regular fa-clock"></i> Orar (24h)</h2>

                    <div class="date-navigator">

                        <button type="button" id="prevDay" class="nav-btn"><i class="fa-solid fa-chevron-left"></i></button>

                        <span id="currentDateDisplay">Azi</span>

                        <button type="button" id="nextDay" class="nav-btn"><i class="fa-solid fa-chevron-right"></i></button>

                    </div>

                </div>

                <div id="scheduleGrid" class="schedule-grid"></div>

            </section>

        </main>

        

        <footer class="app-footer">

            <p>&copy; 2026 Spalatorie CƒÉmin.</p>

        </footer>

    </div>



    <div id="modalOverlay" class="modal-overlay">

        <div id="phoneModal" class="modal-box">

            <button type="button" class="modal-close" aria-label="√énchide">&times;</button>

            <h3><i class="fa-solid fa-address-card"></i> Contact</h3>

            <div class="modal-body text-center">

                <h4 id="modalUserName">Nume</h4>

                <p id="modalPhoneNumber" class="phone-display">07xx...</p>

                <div class="modal-actions" style="grid-template-columns: 1fr 1fr 1fr;">
                    <a id="callPhoneBtn" href="#" class="btn-action call"><i class="fa-solid fa-phone"></i> SunƒÉ Acum</a>
                    <button id="copyPhoneBtn" class="btn-action copy"><i class="fa-solid fa-copy"></i> Copie</button>
                    <button id="requestDeleteBtn" class="btn-action delete"><i class="fa-solid fa-trash"></i> »òterge</button>
                </div>

            </div>

        </div>



        <div id="confirmModal" class="modal-box" style="display: none;">

            <h3><i class="fa-solid fa-triangle-exclamation"></i> Confirmare</h3>

            <p>E»ôti sigur cƒÉ vrei sƒÉ »ôtergi aceastƒÉ rezervare?</p>

            <div class="modal-actions">

                <button id="cancelDeleteBtn" class="btn-action secondary">Nu, renun»õ</button>

                <button id="confirmDeleteBtn" class="btn-action delete">Da, »ôterge</button>

            </div>

        </div>

        <div id="deletePinModal" class="modal-box" style="display: none;">
            <button type="button" class="modal-close" aria-label="√énchide">&times;</button>
            <h3><i class="fa-solid fa-lock"></i> »òtergere</h3>
            <p>Introdu codul PIN (4 cifre) setat la rezervare:</p>
            <input type="password" id="deletePinInput" placeholder="PIN..." class="full-width-input" maxlength="4" style="text-align: center; font-size: 1.5rem; letter-spacing: 5px;">
            <div class="modal-actions">
                <button id="cancelPinDeleteBtn" class="btn-action secondary">AnuleazƒÉ</button>
                <button id="confirmPinDeleteBtn" class="btn-action delete">»òterge</button>
            </div>
        </div>



        <div id="adminModal" class="modal-box">

            <button type="button" class="modal-close" aria-label="√énchide">&times;</button>

            <div id="adminLoginForm">

                <h3><i class="fa-solid fa-user-shield"></i> Admin</h3>

                <input type="email" id="adminEmail" placeholder="Email Admin" style="margin-bottom: 10px; width: 100%; padding: 10px; border:1px solid #ddd; border-radius:6px;">
                <input type="password" id="adminPassword" placeholder="Parola Admin" style="margin-bottom: 15px; width: 100%; padding: 10px; border:1px solid #ddd; border-radius:6px;">

                <button type="button" id="adminLoginBtn" class="btn-primary"><i class="fa-solid fa-right-to-bracket"></i> Conectare</button>

            </div>

            

            <div id="adminContent" style="display: none;" class="admin-dashboard">
                <div class="dashboard-header">
                    <div class="header-title">
                        <h2><i class="fa-solid fa-user-shield"></i> Panou Admin</h2>
                        <p class="subtitle">Gestionare & Statistici</p>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fa-solid fa-calendar-check"></i></div>
                        <div class="stat-data">
                            <span class="stat-label">RezervƒÉri Azi</span>
                            <strong class="stat-value" id="statToday">0</strong>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fa-solid fa-list-ol"></i></div>
                        <div class="stat-data">
                            <span class="stat-label">Total Active</span>
                            <strong class="stat-value" id="statTotal">0</strong>
                        </div>
                    </div>
                    <div class="stat-card maintenance-card">
                        <div class="maintenance-header">
                            <span class="stat-label">Mentenan»õƒÉ</span>
                            <label class="switch vip-switch">
                                <input type="checkbox" id="maintenanceToggle">
                                <span class="slider round"></span>
                            </label>
                        </div>
                        <small id="maintenanceStatusLabel" class="status-text">Sistem Online</small>
                    </div>
                </div>

                <div class="admin-tabs">
                    <button class="tab-btn active" id="tabActive">Active</button>
                    <button class="tab-btn" id="tabHistory">Istoric</button>
                </div>

                <div class="list-controls">
                    <div class="search-wrapper">
                        <i class="fa-solid fa-search"></i>
                        <input type="text" id="adminSearchInput" placeholder="CautƒÉ nume sau telefon...">
                    </div>
                    <div class="filter-wrapper">
                         <input type="date" id="adminDateFilter" title="FiltreazƒÉ dupƒÉ datƒÉ">
                    </div>
                </div>

                <button id="exportCsvBtn" class="btn-ghost" style="width:100%; margin-bottom:15px; border-color:var(--success); color:var(--success);">
                    <i class="fa-solid fa-file-csv"></i> DescarcƒÉ Raport Excel (CSV)
                </button>

                <div class="list-header">
                    <h3 id="listTitle">RezervƒÉri Active</h3>
                    <div class="list-badge" id="listBadgeCount">0</div>
                </div>

                <div id="adminBookingsList" class="admin-bookings-list">
                    <!-- Content injected by JS -->
                </div>

                <button id="adminLogoutBtn" class="btn-logout-full">
                    <i class="fa-solid fa-power-off"></i> Deconectare
                </button>
            </div>

        </div>

    </div>



    <div id="toast" class="toast"></div>



    <script type="module" src="script.js"></script>

</body>


</html>
